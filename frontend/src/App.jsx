import React, { Suspense, lazy, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport './App.css';\nimport { AuthProvider, useAuth } from './hooks/useAuth';\n\n// Lazy load components for better performance\nconst HomePage = lazy(() => import('./pages/HomePage'));\nconst ExplorationPage = lazy(() => import('./pages/ExplorationPage'));\nconst AccommodationPage = lazy(() => import('./pages/AccommodationPage'));\nconst DiningPage = lazy(() => import('./pages/DiningPage'));\nconst TransportPage = lazy(() => import('./pages/TransportPage'));\nconst SafetyPage = lazy(() => import('./pages/SafetyPage'));\nconst ProfilePage = lazy(() => import('./pages/ProfilePage'));\nconst MapViewPage = lazy(() => import('./pages/MapViewPage'));\nconst LoginPage = lazy(() => import('./pages/LoginPage'));\nconst RegisterPage = lazy(() => import('./pages/RegisterPage'));\nconst BookingPage = lazy(() => import('./pages/BookingPage'));\n\n// Loading fallback component\nconst LoadingFallback = () => (\n  <div className=\"loading-container\">\n    <div className=\"spinner\"></div>\n    <p>جاري التحميل...</p>\n  </div>\n);\n\n// Inner component that uses useAuth\nconst AppRoutes = () => {\n  const { restoreSession } = useAuth();\n\n  useEffect(() => {\n    restoreSession();\n  }, []);\n\n  return (\n    <Suspense fallback={<LoadingFallback />}>\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"/exploration\" element={<ExplorationPage />} />\n        <Route path=\"/accommodation\" element={<AccommodationPage />} />\n        <Route path=\"/dining\" element={<DiningPage />} />\n        <Route path=\"/transport\" element={<TransportPage />} />\n        <Route path=\"/safety\" element={<SafetyPage />} />\n        <Route path=\"/profile\" element={<ProfilePage />} />\n        <Route path=\"/map\" element={<MapViewPage />} />\n        <Route path=\"/login\" element={<LoginPage />} />\n        <Route path=\"/register\" element={<RegisterPage />} />\n        <Route path=\"/booking\" element={<BookingPage />} />\n      </Routes>\n    </Suspense>\n  );\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <AppRoutes />\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n
