// frontend/src/pages/BookingPage.jsx\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth';\nimport '../styles/BookingPage.css';\n\nconst BookingPage = () => {\n    const { user, isAuthenticated } = useAuth();\n    const navigate = useNavigate();\n    const [guideId, setGuideId] = useState('');\n    const [bookingDate, setBookingDate] = useState('');\n    const [durationHours, setDurationHours] = useState(1);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    if (!isAuthenticated) {\n        return (\n            <div className=\"booking-container\">\n                <div className=\"booking-card\">\n                    <h1>يجب تسجيل الدخول أولاً</h1>\n                    <p>لإنشاء حجز، يجب أن تكون مسجل دخول.</p>\n                    <button className=\"btn-primary\" onClick={() => navigate('/login')}>\n                        تسجيل الدخول\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess('');\n        setIsLoading(true);\n\n        try {\n            // حساب السعر الإجمالي (مثال: 50 دينار في الساعة)\n            const totalPrice = durationHours * 50;\n\n            const response = await fetch('/api/v1/bookings', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                },\n                body: JSON.stringify({\n                    guideId,\n                    bookingDate,\n                    durationHours: parseFloat(durationHours),\n                    totalPrice\n                })\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                throw new Error(data.msg || 'فشل إنشاء الحجز');\n            }\n\n            setSuccess('تم إنشاء الحجز بنجاح! يمكنك الآن المتابعة للدفع.');\n            setTimeout(() => navigate('/profile'), 2000);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"booking-container\">\n            <div className=\"booking-card\">\n                <h1>حجز مرشد سياحي</h1>\n                <p className=\"booking-subtitle\">اختر المرشد والتاريخ والمدة المطلوبة</p>\n\n                {error && <div className=\"error-message\">{error}</div>}\n                {success && <div className=\"success-message\">{success}</div>}\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"guideId\">اختر المرشد</label>\n                        <select\n                            id=\"guideId\"\n                            value={guideId}\n                            onChange={(e) => setGuideId(e.target.value)}\n                            required\n                        >\n                            <option value=\"\">-- اختر مرشد --</option>\n                            <option value=\"guide-1\">أحمد علي - مرشد معتمد</option>\n                            <option value=\"guide-2\">فاطمة محمد - مرشدة معتمدة</option>\n                            <option value=\"guide-3\">محمود حسن - مرشد معتمد</option>\n                        </select>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"bookingDate\">التاريخ والوقت</label>\n                        <input\n                            type=\"datetime-local\"\n                            id=\"bookingDate\"\n                            value={bookingDate}\n                            onChange={(e) => setBookingDate(e.target.value)}\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"durationHours\">مدة الجولة (ساعات)</label>\n                        <input\n                            type=\"number\"\n                            id=\"durationHours\"\n                            value={durationHours}\n                            onChange={(e) => setDurationHours(e.target.value)}\n                            min=\"1\"\n                            step=\"0.5\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"price-summary\">\n                        <p>السعر الإجمالي: <strong>{durationHours * 50} دينار</strong></p>\n                    </div>\n\n                    <button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\n                        {isLoading ? 'جاري الحجز...' : 'حجز الآن'}\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default BookingPage;\n
